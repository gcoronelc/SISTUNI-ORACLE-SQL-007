
WITH
V1 AS (
    SELECT IDDEPARTAMENTO, MAX(X.SUELDO) SUELDO_MAX
    FROM RECURSOS.EMPLEADO X
    GROUP BY IDDEPARTAMENTO
)
SELECT E.*
FROM RECURSOS.EMPLEADO E
WHERE (e.IDDEPARTAMENTO,E.SUELDO) IN (SELECT IDDEPARTAMENTO, SUELDO_MAX FROM V1);


